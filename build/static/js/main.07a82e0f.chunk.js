(this.webpackJsonpvaxthuset_frontend=this.webpackJsonpvaxthuset_frontend||[]).push([[0],{165:function(e,t,a){e.exports=a(343)},173:function(e,t,a){var n=a(174);n.register([a(318)]),e.exports=n},319:function(e,t,a){},320:function(e,t,a){e.exports=a.p+"static/media/GloriaHallelujah-Regular.779caa76.ttf"},321:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){},343:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(163),o=a.n(l),c=a(28),i=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"mainTitle"},"Erik's Greenhouse"))},m=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-item"}," App made by: Erik Liljeroth"),r.a.createElement("div",{className:"footer-item"}," LinkedIn: ",r.a.createElement("a",{href:"https://www.linkedin.com/in/erikliljeroth/"},"Erik Liljeroth")))},u=a(19),s=a(164),d=a.n(s),p=a(173),f=d()(p),h=function(e){var t=e.data,a=e.tempForecast,n=e.className,l=t.map((function(e){return e.dtg})),o=t.map((function(e){return Number(e.temperature)})),c=t.map((function(e){return Number(e.humidity)})),i=Object(u.a)(a);a[0]&&l[0]&&(i=a.filter((function(e){return Date.parse(e.dtg)>Date.parse(l[t.length-1])})));var m=i.map((function(e){return e.dtg})),s=i.map((function(e){return Number(e[Object.keys(e)[1]])})),d=[{x:l,y:o,name:"temperature",type:"scatter",marker:{color:"blue"}},{x:m,y:s,name:"sarima forecast",type:"scatter",marker:{color:"purple"}}],p=[{x:l,y:c,name:"humidity",type:"scatter",marker:{color:"blue"}}],h=Math.max.apply(Math,Object(u.a)(o)),b=Math.min.apply(Math,Object(u.a)(o)),E=Math.max.apply(Math,Object(u.a)(c)),y={autosize:!1,width:500,height:500,paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{text:"Temperature [&deg;C]",font:{family:"Courier New, monospace",size:20,color:"#000"},xref:"paper",x:.05},yaxis:{range:[b-15,h+15]},legend:{x:.6,y:1.15}},g={autosize:!1,width:500,height:500,paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{text:"Relative Humidity [%]",font:{family:"Courier New, monospace",size:20,color:"#000"},xref:"paper",x:.05},yaxis:{range:[Math.min.apply(Math,Object(u.a)(c))-15,E+15]},showlegend:!0,legend:{x:.6,y:1.15}},v={useresizehandler:!0};return r.a.createElement("div",{className:n},r.a.createElement(f,{data:d,layout:y,config:v}),r.a.createElement(f,{data:p,layout:g,config:v}))},b=function(e){var t=e.data,a=t.map((function(e){return Number(e.temperature)})),n=t.map((function(e){return Number(e.humidity)}));a=a.slice(-336),n=n.slice(-336);var l=Math.max.apply(Math,Object(u.a)(a)),o=Math.min.apply(Math,Object(u.a)(a)),c=Math.max.apply(Math,Object(u.a)(n)),i=Math.min.apply(Math,Object(u.a)(n));return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",{className:"table_header"},r.a.createElement("th",{id:"borderboth"}," Quantity [unit] "),r.a.createElement("th",{id:"borderboth"}," Min "),r.a.createElement("th",{id:"borderbottom"}," Max "))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"borderboth"}," Temperature [\xb0C] "),r.a.createElement("td",{id:"borderboth"},"  ",o,"          "),r.a.createElement("td",{id:"borderbottom"},"  ",l,"                           ")),r.a.createElement("tr",null,r.a.createElement("td",{id:"borderright"}," Relative Humidity [%]   "),r.a.createElement("td",{id:"borderright"}," ",i,"           "),r.a.createElement("td",null,"  ",c,"                             "))))},E=function(e){var t=e.total_measurements,a=e.first_day,n=e.last_day;return r.a.createElement("div",{className:"topContent"},r.a.createElement("div",{className:"infoBox"},r.a.createElement("h2",{className:"infoBoxHeader"},"About"),r.a.createElement("p",{className:"infoBoxContent"},"The greenhouse is placed on Erik's balcony on the fourth floor. This website runs on a Raspberry Pi inside the greenhouse. ",r.a.createElement("br",null),r.a.createElement("br",null),"Here you can find live measurements from the greenhouse and forecasting using mathematical models.")),r.a.createElement("div",{className:"dataBox"},r.a.createElement("h2",{className:"dataBoxHeader"},"Summary stats"),r.a.createElement("ul",{className:"dataBoxContent"},r.a.createElement("li",null,"Total measurements: ",t),r.a.createElement("li",null,"Measuring init: ",a),r.a.createElement("li",null,"Current day: ",n))))},y=(a(319),function(e){var t=e.value,a=e.options,l=e.options_numbers,o=e.onChange,i=Object(n.useRef)(null),m=Object(n.useState)(!1),u=Object(c.a)(m,2),s=u[0],d=u[1],p=function(e){i.current.contains(e.target)||d(!1)};return Object(n.useEffect)((function(){return document.addEventListener("mousedown",p),function(){document.removeEventListener("mousedown",p)}}),[]),r.a.createElement("div",{ref:i,className:"dropdown"},r.a.createElement("button",{className:"dropdown-toggler",onClick:function(e){return d(!s)}},r.a.createElement("div",{className:"dropdown-toggler-text"},1===t&&r.a.createElement("div",null,t," day"),1!==t&&r.a.createElement("div",null,t," days")),r.a.createElement("div",{className:"dropdown-toggler-arrow"},"\u25bc")),s&&r.a.createElement("ul",{className:"dropdown-menu"},a.map((function(e,t){return r.a.createElement("li",{key:t,className:"dropdown-menu-item",onClick:function(e){return a=l[t],o(a),void d(!1);var a}},e)}))))}),g=(a(320),a(321),a(322),a(323),a(324),a(325),a(326),a(37)),v=a.n(g),x=function(){return v.a.get("/api/data").then((function(e){return e.data}))},N=function(){return v.a.get("/info").then((function(e){return e.data}))},j=function(){return v.a.get("/api/tempforecast").then((function(e){return e.data}))},_=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),u=Object(c.a)(o,2),s=u[0],d=u[1],p=Object(n.useState)([{total_measurements:"-",first_day_of_measurements:"-",last_day_of_measurements:"-"}]),f=Object(c.a)(p,2),g=f[0],v=f[1],_=Object(n.useState)(1),O=Object(c.a)(_,2),w=O[0],M=O[1],k=Object(n.useState)([]),C=Object(c.a)(k,2),S=C[0],B=C[1];Object(n.useEffect)((function(){x().then((function(e){l(e),d(e.slice(-48))})),N().then((function(e){v(e)})),j().then((function(e){B(e)}))}),[]);return r.a.createElement("div",{className:"wrapper"},r.a.createElement(i,null),r.a.createElement(E,{total_measurements:g[0].total_measurements,first_day:g[0].first_day_of_measurements,last_day:g[0].last_day_of_measurements}),r.a.createElement("h2",null,"Temperature and Relative Humidity"),r.a.createElement("div",{className:"select-horizon"},r.a.createElement("em",{className:"dropdown-text"},"Select time span:"),r.a.createElement(y,{value:w,options:["1 day","2 days","7 days","30 days"],options_numbers:[1,2,7,30],onChange:function(e){d(a.slice(48*-e)),M(e)}})),r.a.createElement(h,{data:s,tempForecast:S,className:"plots"}),r.a.createElement("h2",null,"Extremevalues past 7 days"),r.a.createElement(b,{data:a}),r.a.createElement(m,null))};o.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.07a82e0f.chunk.js.map