(this.webpackJsonpvaxthuset_frontend=this.webpackJsonpvaxthuset_frontend||[]).push([[0],{19:function(e,t,a){e.exports=a(52)},28:function(e,t,a){e.exports=a.p+"static/media/GloriaHallelujah-Regular.779caa76.ttf"},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),c=a.n(l),o=a(5),i=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"mainTitle"},"Erik's Greenhouse"))},u=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("ul",null,r.a.createElement("li",null,"App made by: Erik Liljeroth"),r.a.createElement("li",null," LinkedIn: ",r.a.createElement("a",{href:"https://www.linkedin.com/in/erikliljeroth/"},"Erik Liljeroth"))))},m=a(2),s=a(17),d=a.n(s),p=a(18),h=a.n(p)()(d.a),f=function(e){var t=e.data,a=e.tempForecast,n=e.className,l=t.map((function(e){return e.dtg})),c=t.map((function(e){return Number(e.temperature)})),o=t.map((function(e){return Number(e.humidity)})),i=[{x:l,y:c,name:"temperature",type:"scatter",marker:{color:"blue"}},{x:a.map((function(e){return e.dtg})),y:a.map((function(e){return Number(e[Object.keys(e)[1]])})),name:"sarimax forecast",type:"scatter",marker:{color:"purple"}}],u=[{x:l,y:o,name:"humidity",type:"scatter",marker:{color:"blue"}}],s=Math.max.apply(Math,Object(m.a)(c)),d=Math.min.apply(Math,Object(m.a)(c)),p=Math.max.apply(Math,Object(m.a)(o)),f={autosize:!1,width:500,height:500,paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{text:"Temperature [&deg;C]",font:{family:"Courier New, monospace",size:20,color:"#000"},xref:"paper",x:.05},yaxis:{range:[d-20,s+20]},legend:{x:.6,y:1.15}},b={autosize:!1,width:500,height:500,paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{text:"Relative Humidity [%]",font:{family:"Courier New, monospace",size:20,color:"#000"},xref:"paper",x:.05},yaxis:{range:[Math.min.apply(Math,Object(m.a)(o))-15,p+15]},showlegend:!0,legend:{x:.6,y:1.15}},E={useresizehandler:!0};return r.a.createElement("div",{className:n},r.a.createElement(h,{data:i,layout:f,config:E}),r.a.createElement(h,{data:u,layout:b,config:E}))},b=function(e){var t=e.data,a=t.map((function(e){return Number(e.temperature)})),n=t.map((function(e){return Number(e.humidity)}));a=a.slice(-336),n=n.slice(-336);var l=Math.max.apply(Math,Object(m.a)(a)),c=Math.min.apply(Math,Object(m.a)(a)),o=Math.max.apply(Math,Object(m.a)(n)),i=Math.min.apply(Math,Object(m.a)(n));return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",{className:"table_header"},r.a.createElement("th",{id:"borderboth"}," Quantity [unit] "),r.a.createElement("th",{id:"borderboth"}," Min "),r.a.createElement("th",{id:"borderbottom"}," Max "))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"borderboth"}," Temperature [\xb0C] "),r.a.createElement("td",{id:"borderboth"},"  ",c,"          "),r.a.createElement("td",{id:"borderbottom"},"  ",l,"                           ")),r.a.createElement("tr",null,r.a.createElement("td",{id:"borderright"}," Relative Humidity [%]   "),r.a.createElement("td",{id:"borderright"}," ",i,"           "),r.a.createElement("td",null,"  ",o,"                             "))))},E=function(e){var t=e.total_measurements,a=e.first_day,n=e.last_day;return r.a.createElement("div",{className:"topContent"},r.a.createElement("div",{className:"infoBox"},r.a.createElement("h2",{className:"infoBoxHeader"},"About"),r.a.createElement("p",{className:"infoBoxContent"},"The greenhouse is placed on Erik's balcony on the fourth floor. This website runs on a Raspberry Pi inside the greenhouse.")),r.a.createElement("div",{className:"dataBox"},r.a.createElement("h2",{className:"dataBoxHeader"},"Summary stats"),r.a.createElement("ul",{className:"dataBoxContent"},r.a.createElement("li",null,"Total measurements: ",t),r.a.createElement("li",null,"Measuring init: ",a),r.a.createElement("li",null,"Current day: ",n))))},y=(a(28),a(29),a(30),a(31),a(32),a(33),a(34),a(3)),g=a.n(y),x=function(){return g.a.get("/api/data").then((function(e){return e.data}))},_=function(){return g.a.get("/info").then((function(e){return e.data}))},N=function(){return g.a.get("/api/tempforecast").then((function(e){return e.data}))},j=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),m=Object(o.a)(c,2),s=m[0],d=m[1],p=Object(n.useState)([{total_measurements:"-",first_day_of_measurements:"-",last_day_of_measurements:"-"}]),h=Object(o.a)(p,2),y=h[0],g=h[1],j=Object(n.useState)([]),v=Object(o.a)(j,2),M=v[0],O=v[1];Object(n.useEffect)((function(){x().then((function(e){l(e),d(e)})),_().then((function(e){g(e)})),N().then((function(e){O(e)}))}),[]);var k=function(e){var t=48*-e;d(a.slice(t))};return r.a.createElement("div",{className:"wrapper"},r.a.createElement(i,null),r.a.createElement(E,{total_measurements:y[0].total_measurements,first_day:y[0].first_day_of_measurements,last_day:y[0].last_day_of_measurements}),r.a.createElement("h2",null,"Temperature and Relative Humidity"),r.a.createElement("div",{className:"plotbuttons"},r.a.createElement("button",{onClick:function(){return k(1)}},"1 day"),r.a.createElement("button",{onClick:function(){return k(2)}}," 2 days"),r.a.createElement("button",{onClick:function(){return k(7)}},"7 days"),r.a.createElement("button",{onClick:function(){return k(30)}},"30 days")),r.a.createElement(f,{data:s,tempForecast:M,className:"plots"}),r.a.createElement("h2",null,"Extremevalues past 7 days"),r.a.createElement(b,{data:a}),r.a.createElement(u,null))};c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.67edd0af.chunk.js.map